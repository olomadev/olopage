
<!-- Main Content-->
<div class="container px-4 px-lg-5">
    <div class="row justify-content-center">
        <div class="col-md-10 col-lg-9 col-sm-12">

          <%
          posts.forEach(post => {
            const date = new Date(post.publishedAt);
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            const formattedDate = date.toLocaleDateString('en-US', options);
          %>
            <div class="post-preview">
              <div class="row align-items-center click-hover-effect pt-2 pb-2 clickable-row" data-href="/<%= post.permalink %>">
                
                <div class="col-9 col-sm-10 px-4">
                  <h2 class="display-8 pt-3"><%= post.title %></h2>
                  <h3 class="display-10 text-muted">
                    <%= post.description.length > 100 ? post.description.substring(0, 100) + '...' : post.description %>
                  </h3>
                </div>
                <div class="col-3 col-sm-2">
                  <% if (post.fileName) { %>
                    <img src="<%= apiUrl %>/api/files/display?fileName=<%= post.fileName %>" class="img-fluid rounded-end" alt="Post Thumbnail" />
                  <% } else { %>
                    <img src="<%= themePath %>/assets/img/no-image.jpg" class="img-fluid rounded-end" alt="No Image Thumbnail" />
                  <% } %>
                </div>

                <!-- Stat Section -->
                <div class="mt-3 mb-4 px-4 d-flex align-items-center clap-section">
                  <svg class="me-3" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16">
                    <path fill="#6B6B6B" fill-rule="evenodd" d="m3.672 10.167 2.138 2.14h-.002c1.726 1.722 4.337 2.436 5.96.81 1.472-1.45 1.806-3.68.76-5.388l-1.815-3.484c-.353-.524-.849-1.22-1.337-.958-.49.261 0 1.56 0 1.56l.78 1.932L6.43 2.866c-.837-.958-1.467-1.108-1.928-.647-.33.33-.266.856.477 1.598.501.503 1.888 1.957 1.888 1.957.17.174.083.485-.093.655a.56.56 0 0 1-.34.163.43.43 0 0 1-.317-.135s-2.4-2.469-2.803-2.87c-.344-.346-.803-.54-1.194-.15-.408.406-.273 1.065.11 1.447.345.346 2.31 2.297 2.685 2.67l.062.06c.17.175.269.628.093.8-.193.188-.453.33-.678.273a.9.9 0 0 1-.446-.273S2.501 6.84 1.892 6.23c-.407-.406-.899-.333-1.229 0-.525.524.263 1.28 1.73 2.691.384.368.814.781 1.279 1.246m8.472-7.219c.372-.29.95-.28 1.303.244V3.19l1.563 3.006.036.074c.885 1.87.346 4.093-.512 5.159l-.035.044c-.211.264-.344.43-.74.61 1.382-1.855.963-3.478-.248-5.456L11.943 3.88l-.002-.037c-.017-.3-.039-.71.203-.895" clip-rule="evenodd"></path>
                  </svg>
                  <span class="clap-count text-muted small me-4">0 Claps</span>
                  <span class="text-muted small me-4">
                    <a href="#!"><%= post.firstname %></a>
                  </span>
                  <span class="text-muted small">
                    <%= formattedDate %>
                  </span>
                </div>
              </div>
            </div>

          <% }) %>

          <!-- Pager-->
          <nav class="d-flex justify-content-center mb-4">
            <ul class="pagination">
              <% for (let i = 1; i <= totalPages; i++) { %>
                <li class="<%= currentPage === i ? 'active' : '' %> me-2">
                  <a href="?page=<%= i %>" class="btn btn-outline-secondary"><%= i %></a>
                </li>
              <% } %>
            </ul>
          </nav>    
            
        </div>
    </div>
</div>

